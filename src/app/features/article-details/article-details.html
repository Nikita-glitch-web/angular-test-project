<section class="details-shell">
  <div class="container">
    <ng-container *ngIf="isLoading(); else details">
      <app-loader></app-loader>
    </ng-container>
    <ng-template #details>
      <mat-card class="article-details-card" role="article" aria-label="Article details">
        <div *ngIf="!isLoading() && isError()" class="message" aria-live="polite">
          Something went wrong. Please try again later.
        </div>
        <div *ngIf="!isLoading() && !isError() && isNotFound()" class="message" aria-live="polite">
          Article not found.
        </div>
        <ng-container *ngIf="!isLoading() && !isError() && article()">
          <div class="image-box" *ngIf="article()?.image_url">
            <img [src]="article()?.image_url" alt="Article header" loading="lazy" />
          </div>

          <mat-card-header>
            <mat-card-title class="headline">{{ article()?.title }}</mat-card-title>
                        <div class="article-content" [innerHTML]="(article()?.summary || '') | lorem:3"></div>

          </mat-card-header>

          <mat-card-content>
            <div class="back-link">
              <button mat-button color="primary" (click)="goHome()" aria-label="Back to homepage">
                ‚Üê Back to homepage
              </button>
            </div>
          </mat-card-content>
        </ng-container>

        <div *ngIf="!article() && !isLoading()" class="loading">Article not found.</div>
      </mat-card>
    </ng-template>
  </div>
</section>
