<section class="details-shell">
  <div class="container">
    @if (isLoading()) {
    <app-loader></app-loader>
    } @else {
    <mat-card class="article-details-card" role="article" aria-label="Article details">
      @if (!isLoading() && isError()) {
      <div class="message" aria-live="polite">
        Something went wrong. Please try again later.
      </div>
      }
      @if (!isLoading() && !isError() && isNotFound()) {
      <div class="message" aria-live="polite">
        Article not found.
      </div>
      }
      @if (!isLoading() && !isError() && article()) {
      <div class="image-box" @if(article()?.image_url)>
        <img [src]="article()?.image_url" alt="Article header" loading="lazy" />
      </div>

      <mat-card-header>
        <mat-card-title class="headline">{{ article()?.title }}</mat-card-title>
        <div class="article-content" [innerHTML]="(article()?.summary || '') | lorem:3"></div>
      </mat-card-header>

      <mat-card-content>
        <div class="back-link">
          <button mat-button color="primary" (click)="goHome()" aria-label="Back to homepage">
            ‚Üê Back to homepage
          </button>
        </div>
      </mat-card-content>
      }
      @if (!article() && !isLoading()) {
      <div class="loading">Article not found.</div>
      }
    </mat-card>
    }
  </div>
</section>